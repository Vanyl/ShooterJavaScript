<html>

<head>
    <script src="/ShooterJavaScript/PhaserLib/phaser.min.js"></script>
    <title> </title>
</head>

<body>
    <script type="text/javascript">
        var config = {
            type: Phaser.AUTO,
            width: 360,
            height: 640,
            physics: {
                default: 'arcade'
            },
            scene: {
                preload: preload,
                create: create,
                update: update
            }
        };

        var game = new Phaser.Game(config);

        //var maBulle;

        var testJson = '{ "question" : "Ca va ?","reponse" : ["Oui","Non","Et toi Ã§a va ?"]}';

        var testObject = JSON.parse(testJson);

        var sprite1;



        function preload() {
            this.load.image('question', './Assets/conversation.png');
            this.load.image('reponse', './Assets/reponse.png');
            this.load.image('choice', './Assets/choice.png');

        }

        function create() {
            //Rajout des bulles conversations
            this.add.sprite(100, 50, 'question');
            // this.add.sprite(100, 100, 'reponse');
            sprite1 = this.add.sprite(100, 500, 'choice').setInteractive();
            this.add.sprite(100, 555, 'choice').setInteractive();
            this.add.sprite(100, 610, 'choice').setInteractive();

            //Lien bulle et texte
            var question = this.add.text(70, 50, testObject.question);
            // var answer = this.add.text(80, 100, testObject.reponse[0]);
            var choice1 = this.add.text(70, 500, testObject.reponse[0]);
            var choice2 = this.add.text(70, 555, testObject.reponse[1]);
            var choice3 = this.add.text(50, 610, testObject.reponse[2]);

            //Couleur du texte
            choice1.setTint(0x000000);
            choice2.setTint(0x000000);
            choice3.setTint(0x000000);


            //Event clic            
            sprite1.on('pointerdown', addResponse, this);

        }

        function addResponse() {
            var answer_sprite = this.add.sprite(100, 100, 'reponse');
            var answer = this.add.text(80, 100, testObject.reponse[0]);
        }


        function update() {

        }
    </script>

</body></html>
